plugins {
    id 'application'
}

application {
    mainClass = 'org.vosk.demo.DecoderDemo'
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'net.java.dev.jna:jna:5.13.0'
    implementation group: 'com.alphacephei', name: 'vosk', version: '0.3.45'
    implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.4.2'
    testImplementation("org.junit.jupiter:junit-jupiter-api:5.7.2")
    implementation("com.google.guava:guava:32.0.1-jre")
    implementation ("org.bytedeco:javacv-platform:1.5.7")
    implementation("org.bytedeco:ffmpeg-platform:7.1-1.5.11")
}

java {
    toolchain {
        languageVersion.set(JavaLanguageVersion.of(21))
    }
}

application {
    mainClass = 'logic.vosk.MicroRecogniseDemo'
    applicationDefaultJvmArgs = [
            '-Xms5G',
            '-Xmx5G'
    ]
}

configurations.all {
    resolutionStrategy {
        force 'net.java.dev.jna:jna:5.13.0'
    }
}
